(function(i,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i.index={},i.Vue))})(this,function(i,e){"use strict";function P(a=1){const t=e.ref(a),c=o=>{t.value=o},r=(o,d)=>{let u=t.value+o;d&&u>d?u=d:u<1&&(u=1),t.value=u};return{pageIndex:t,setPageIndex:c,jumpToPageIndex:r,prePage:o=>{r(-1,o)},nextPage:o=>{r(1,o)}}}function m(a,t,c){const r=Array.from({length:a},(n,l)=>l);if(a<=c)return r.slice(2,a);{const n=Math.ceil(c/2);return t<=n?r.slice(2,c):t>=a-n+1?r.slice(a-c+2,a):r.slice(t-n+2,t+n-1)}}const f={total:{type:Number,default:10},pageSize:{type:Number,default:5},pageCount:{type:Number,default:5},curPageIndex:{type:Number,default:1}},x=f,g=e.defineComponent({name:"GPager",props:x,emits:["updatePagerIndex"],setup(a,{emit:t}){const{total:c,pageSize:r,pageCount:n}=e.toRefs(a),l=e.computed(()=>Math.ceil(c.value/r.value)),o=e.computed(()=>m(l.value,d.value,n.value)),{pageIndex:d,setPageIndex:u,jumpToPageIndex:s,nextPage:I,prePage:V}=P();return e.watch(()=>d.value,h=>{t("updatePagerIndex",h)}),{pageCount:n,calcTotalPage:l,centerPages:o,pageIndex:d,setPageIndex:u,jumpToPageIndex:s,nextPage:I,prePage:V}},render(){const{pageCount:a,calcTotalPage:t,centerPages:c,pageIndex:r,setPageIndex:n,jumpToPageIndex:l}=this;return e.createVNode("ul",{class:"s-pager"},[e.createVNode("li",{onClick:()=>n(1),class:{current:r===1}},[e.createTextVNode("1")]),t>a&&r>Math.ceil(a/2)&&e.createVNode("li",{class:"ellipsis_left",onClick:()=>l(-5,t)},[e.createTextVNode("...")]),c.map(o=>e.createVNode("li",{onClick:()=>n(o),class:{current:r===o}},[o])),t>a&&r<t-Math.ceil(a/2)+1&&e.createVNode("li",{class:"ellipsis_right",onClick:()=>l(5,t)},[e.createTextVNode("...")]),t>1&&e.createVNode("li",{onClick:()=>n(t),class:{current:r===t}},[t])])}}),p=e.defineComponent({name:"GPagination",props:f,emits:["update:curPageIndex"],setup(a,{emit:t}){const{total:c,pageSize:r}=e.toRefs(a),n=e.ref(),l=e.computed(()=>Math.ceil(c.value/r.value)),o=e.computed(()=>n.value?n.value.pageIndex<2:!0),d=e.computed(()=>n.value?n.value.pageIndex>=l.value:!0),u=s=>{t("update:curPageIndex",s)};return e.onMounted(()=>{e.watch(()=>a.curPageIndex,s=>{n.value&&n.value.setPageIndex(s)})}),()=>e.createVNode("div",{class:"s-pagination"},[e.createVNode("button",{onClick:()=>{var s;return(s=n.value)==null?void 0:s.prePage(l.value)},disabled:o.value},[e.createTextVNode("上一页")]),e.createVNode(g,e.mergeProps(a,{ref:n,onUpdatePagerIndex:s=>u(s)}),null),e.createVNode("button",{onClick:()=>{var s;return(s=n.value)==null?void 0:s.nextPage(l.value)},disabled:d.value},[e.createTextVNode("下一页")])])}}),N={install(a){a.component(p.name,p),a.component(g.name,g)}};i.Pager=g,i.Pagination=p,i.default=N,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
